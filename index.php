<?phpdeclare(strict_types=1);require_once ('utils/helpers.php');require_once ('data.php');require_once ('init.php');require_once ('utils/db.php');/** * @var string $title имя странице * @var boolean|mysqli|object $connect ресурс соединения с сервером БД * @var int $is_auth рандомно число 1 или 0 * @var string $user_name имя авторизованного пользователя * @var array<array{name: string, code: string} $categories список категорий лотов * @var array<int,array{name: string, category: string, price: int, url: string, date_end: string} $lots массив с параметрами лотов * @var string $main_content HTML-код - контент страницы * @var string $page весь HTML-код страницы с подвалом и шапкой */if (!$connect) {    die(mysqli_connect_error());}// выполнение запроса на список категорий$sql = 'SELECT *  FROM categories LIMIT ?';$categories = get_items($connect, $sql, LIMIT_ITEMS);// выполнение запроса на список новых лотов$sql = 'SELECT l.id,       l.date_end,       l.name "lot_name",       price "price_start",       img_url,       MAX(b.cost) "cost",       c.name "cat_name" FROM lots l           LEFT JOIN bets b ON b.lot_id = l.id           INNER JOIN categories c ON l.cat_id = c.id                         WHERE l.date_end > DATE(NOW())                         GROUP BY l.id, l.date_add                         ORDER BY l.date_add DESC LIMIT ?';$lots = get_items($connect, $sql, LIMIT_ITEMS);$main_content = include_template('main.php', [        'categories' => $categories,        'lots' => $lots,]);$page = include_template('layout.php', [        'title' => $title,        'is_auth' => $is_auth,        'user_name' => $user_name,        'categories' => $categories,        'main_content' => $main_content]);print($page);